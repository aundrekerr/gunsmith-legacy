{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Current from './Current';\nimport Vanity from './Vanity';\nimport Perks from './Perks';\nimport Mods from './Mods';\nimport Masterworks from './Masterworks';\nimport Hashids from 'hashids';\nimport { storeWeapon, storePerks, storeMod, storeMasterwork } from './../../actions/weaponActions';\nimport { Route, withRouter } from \"react-router-dom\";\nconst hashids = new Hashids();\n\nclass Weapon extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.unpackBuiltId = builtId => {\n      const {\n        manifest\n      } = this.props;\n      const decoded = hashids.decode(builtId);\n      this.props.storeWeapon(decoded[0]);\n      if (decoded[1]) this.props.storePerks({\n        hash: decoded[1]\n      }, 1);\n      if (decoded[2]) this.props.storePerks({\n        hash: decoded[2]\n      }, 2);\n      if (decoded[3]) this.props.storePerks({\n        hash: decoded[3]\n      }, 3);\n      if (decoded[4]) this.props.storePerks({\n        hash: decoded[4]\n      }, 4);\n\n      if (decoded[5]) {\n        if (decoded[5] !== 0) {\n          const modDef = manifest.DestinyInventoryItemDefinition[decoded[5]];\n          this.props.storeMod(modDef);\n        }\n      }\n\n      if (decoded[6]) {\n        if (decoded[6] !== 0) {\n          const mwDef = manifest.DestinyInventoryItemDefinition[decoded[6]];\n          this.props.storeMasterwork(mwDef);\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      weapon\n    } = this.props;\n\n    if (!weapon.hash) {\n      this.unpackBuiltId(this.props.match.params.builtId);\n    }\n  }\n\n  render() {\n    const {\n      props: {\n        weapon\n      }\n    } = this;\n\n    if (weapon.hash !== null) {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/w\",\n        render: ({\n          history\n        }) => React.createElement(\"div\", {\n          className: \"weapon__wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Vanity, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(Current, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(Perks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }), React.createElement(Masterworks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), React.createElement(Mods, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(Empty, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest,\n  weapon: state.weapon\n});\n\nexport default connect(mapStateToProps, {\n  storeWeapon,\n  storePerks,\n  storeMod,\n  storeMasterwork\n})(withRouter(Weapon));\n\nconst Empty = props => {\n  return React.createElement(\"div\", {\n    className: \"weapon__wrapper empty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Uh oh.\"));\n};","map":{"version":3,"sources":["/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/index.js"],"names":["React","Component","connect","Current","Vanity","Perks","Mods","Masterworks","Hashids","storeWeapon","storePerks","storeMod","storeMasterwork","Route","withRouter","hashids","Weapon","unpackBuiltId","builtId","manifest","props","decoded","decode","hash","modDef","DestinyInventoryItemDefinition","mwDef","componentDidMount","weapon","match","params","render","history","mapStateToProps","state","Empty"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Current from './Current';\nimport Vanity from './Vanity';\nimport Perks from './Perks';\nimport Mods from './Mods';\nimport Masterworks from './Masterworks';\nimport Hashids from 'hashids';\nimport { storeWeapon, storePerks, storeMod, storeMasterwork } from './../../actions/weaponActions';\nimport { Route, withRouter } from \"react-router-dom\";\nconst hashids = new Hashids();\n\nclass Weapon extends Component {\n\n\tcomponentDidMount() {\n\t\tconst { weapon } = this.props;\n\n\t\tif ( !weapon.hash ) {\n\t\t\tthis.unpackBuiltId(this.props.match.params.builtId);\n\t\t}\n\t}\n\n\tunpackBuiltId = (builtId) => {\n\t\tconst { manifest } = this.props;\n\t\tconst decoded = hashids.decode(builtId);\n\t\tthis.props.storeWeapon( decoded[0] );\n\n\t\tif ( decoded[1] ) this.props.storePerks({ hash: decoded[1] }, 1);\n\t\tif ( decoded[2] ) this.props.storePerks({ hash: decoded[2] }, 2);\n\t\tif ( decoded[3] ) this.props.storePerks({ hash: decoded[3] }, 3);\n\t\tif ( decoded[4] ) this.props.storePerks({ hash: decoded[4] }, 4);\n\t\tif ( decoded[5] ) {\n\t\t\tif ( decoded[5] !== 0) {\n\t\t\t\tconst modDef = manifest.DestinyInventoryItemDefinition[ decoded[5] ];\n\t\t\t\tthis.props.storeMod( modDef );\n\t\t\t}\n\t\t}\n\t\tif ( decoded[6] ) {\n\t\t\tif ( decoded[6] !== 0) {\n\t\t\t\tconst mwDef = manifest.DestinyInventoryItemDefinition[ decoded[6] ];\n\t\t\t\tthis.props.storeMasterwork( mwDef );\n\t\t\t}\n\t\t}\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tprops: {\n\t\t\t\tweapon \n\t\t\t}\n\t\t} = this;\n\n\t\tif ( weapon.hash !== null ) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Route path='/w' render={({ history }) => (\n\t\t\t\t\t\t<div className=\"weapon__wrapper\">\n\t\t\t\t\t\t\t<Vanity />\n\t\t\t\t\t\t\t<Current />\n\t\t\t\t\t\t\t<Perks />\n\t\t\t\t\t\t\t<Masterworks />\n\t\t\t\t\t\t\t<Mods />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}/>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Empty />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n\tweapon: state.weapon,\n});\n\nexport default connect(mapStateToProps, {\n\tstoreWeapon, storePerks, storeMod, storeMasterwork,\n})(withRouter(Weapon));\n\n\nconst Empty = (props) => {\n\treturn (\n\t\t<div className=\"weapon__wrapper empty\">\n\t\t\t<p>Uh oh.</p>\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}