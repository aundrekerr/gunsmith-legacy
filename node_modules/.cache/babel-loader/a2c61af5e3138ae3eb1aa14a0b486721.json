{"ast":null,"code":"let manifest;\nexport const statWhiteList = [4284893193, // Rounds Per Minute\n2961396640, // Charge Time\n447667954, // Draw Time\n3614673599, // Blast Radius\n2523465841, // Velocity\n4043523819, // Impact\n1240592695, // Range\n1591432999, // Accuracy\n155624089, // Stability\n943549884, // Handling\n4188031367, // Reload Speed\n1345609583, // Aim Assistance\n3555269338, // Zoom\n2715839340, // Recoil Direction\n3871231066, // Magazine\n1931675084];\nconst statsNoBar = [4284893193, // Rounds Per Minute\n3871231066, // Magazine\n2961396640, // Charge Time\n447667954, // Draw Time\n1931675084, // Recovery\n2715839340 // Recoil Direction\n];\nexport const statsMs = [447667954, // Draw Time\n2961396640 // Charge Time\n];\nconst hiddenStatsWhitelist = [1345609583, // Aim Assistance\n3555269338, // Zoom\n2715839340 // Recoil Direction\n];\nexport function buildStats(theManifest, itemHash) {\n  console.log('building stats');\n  manifest = theManifest;\n  const itemDef = manifest.DestinyInventoryItemDefinition[itemHash];\n\n  if (!itemDef.stats || !itemDef.stats.statGroupHash) {\n    return null;\n  }\n\n  const statGroup = manifest.DestinyStatGroupDefinition[itemDef.stats.statGroupHash];\n\n  if (!statGroup) {\n    return null;\n  }\n\n  console.log(itemDef.stats, statGroup);\n  let investmentStats = buildInvestmentStats(itemDef, statGroup);\n}\n\nfunction buildInvestmentStats(itemDef, statGroup) {\n  const itemStats = itemDef.investmentStats;\n  const statDisplays = statGroup.scaledStats;\n  itemStats.map(itemStat => {\n    const statHash = itemStat.statTypeHash;\n\n    if (!itemStat || !shouldShowStat(itemDef, statHash, statDisplays)) {\n      return undefined;\n    } else {\n      console.log('passed');\n    }\n  });\n}\n\nfunction shouldShowStat(itemDef, statHash, statDisplays) {\n  if (statHash === 2961396640 && itemDef.itemCategoryHashes && itemDef.itemCategoryHashes.includes(3317538576)) {\n    return false;\n  }\n\n  return (// Must be on the whitelist\n    statWhiteList.includes(statHash) && ( // Must be on the list of interpolated stats, or included in the hardcoded hidden stats list\n    statDisplays[statHash] || hiddenStatsWhitelist.includes(statHash))\n  );\n}","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/utils/stats.js"],"names":["manifest","statWhiteList","statsNoBar","statsMs","hiddenStatsWhitelist","buildStats","theManifest","itemHash","console","log","itemDef","DestinyInventoryItemDefinition","stats","statGroupHash","statGroup","DestinyStatGroupDefinition","investmentStats","buildInvestmentStats","itemStats","statDisplays","scaledStats","map","itemStat","statHash","statTypeHash","shouldShowStat","undefined","itemCategoryHashes","includes"],"mappings":"AAAA,IAAIA,QAAJ;AAEA,OAAO,MAAMC,aAAa,GAAG,CAC5B,UAD4B,EAChB;AACZ,UAF4B,EAEhB;AACZ,SAH4B,EAGjB;AAEX,UAL4B,EAKhB;AACZ,UAN4B,EAMhB;AAEZ,UAR4B,EAQhB;AACZ,UAT4B,EAShB;AACZ,UAV4B,EAUhB;AACZ,SAX4B,EAWjB;AACX,SAZ4B,EAYjB;AACX,UAb4B,EAahB;AAEZ,UAf4B,EAehB;AACZ,UAhB4B,EAgBhB;AACZ,UAjB4B,EAiBhB;AAEZ,UAnB4B,EAmBhB;AACZ,UApB4B,CAAtB;AAuBP,MAAMC,UAAU,GAAG,CAClB,UADkB,EACN;AACZ,UAFkB,EAEN;AACZ,UAHkB,EAGN;AACZ,SAJkB,EAIP;AACX,UALkB,EAKN;AACZ,UANkB,CAMP;AANO,CAAnB;AASA,OAAO,MAAMC,OAAO,GAAG,CACtB,SADsB,EACX;AACX,UAFsB,CAEX;AAFW,CAAhB;AAKP,MAAMC,oBAAoB,GAAG,CAC5B,UAD4B,EAChB;AACZ,UAF4B,EAEhB;AACZ,UAH4B,CAGjB;AAHiB,CAA7B;AAOA,OAAO,SAASC,UAAT,CACNC,WADM,EAENC,QAFM,EAGL;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAT,EAAAA,QAAQ,GAAGM,WAAX;AAEA,QAAMI,OAAO,GAAGV,QAAQ,CAACW,8BAAT,CAAwCJ,QAAxC,CAAhB;;AACA,MAAI,CAACG,OAAO,CAACE,KAAT,IAAkB,CAACF,OAAO,CAACE,KAAR,CAAcC,aAArC,EAAoD;AACnD,WAAO,IAAP;AACA;;AAED,QAAMC,SAAS,GAAGd,QAAQ,CAACe,0BAAT,CAAoCL,OAAO,CAACE,KAAR,CAAcC,aAAlD,CAAlB;;AACA,MAAI,CAACC,SAAL,EAAgB;AACf,WAAO,IAAP;AACA;;AAEDN,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACE,KAApB,EAA2BE,SAA3B;AAEA,MAAIE,eAAe,GAAGC,oBAAoB,CAACP,OAAD,EAAUI,SAAV,CAA1C;AACA;;AAED,SAASG,oBAAT,CAA8BP,OAA9B,EAAuCI,SAAvC,EAAkD;AACjD,QAAMI,SAAS,GAAGR,OAAO,CAACM,eAA1B;AACA,QAAMG,YAAY,GAAGL,SAAS,CAACM,WAA/B;AAEAF,EAAAA,SAAS,CAACG,GAAV,CAAcC,QAAQ,IAAI;AACzB,UAAMC,QAAQ,GAAGD,QAAQ,CAACE,YAA1B;;AACA,QAAI,CAACF,QAAD,IAAa,CAACG,cAAc,CAACf,OAAD,EAAUa,QAAV,EAAoBJ,YAApB,CAAhC,EAAmE;AAClE,aAAOO,SAAP;AACA,KAFD,MAEO;AACNlB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACD,GAPD;AAQA;;AAED,SAASgB,cAAT,CAAwBf,OAAxB,EAAiCa,QAAjC,EAA2CJ,YAA3C,EAAyD;AACxD,MACCI,QAAQ,KAAK,UAAb,IACAb,OAAO,CAACiB,kBADR,IAEAjB,OAAO,CAACiB,kBAAR,CAA2BC,QAA3B,CAAoC,UAApC,CAHD,EAIE;AACD,WAAO,KAAP;AACA;;AAED,SACC;AACA3B,IAAAA,aAAa,CAAC2B,QAAd,CAAuBL,QAAvB,OACA;AACCJ,IAAAA,YAAY,CAACI,QAAD,CAAZ,IAA0BnB,oBAAoB,CAACwB,QAArB,CAA8BL,QAA9B,CAF3B;AAFD;AAMA","sourcesContent":["let manifest;\n\nexport const statWhiteList = [\n\t4284893193, // Rounds Per Minute\n\t2961396640, // Charge Time\n\t447667954, // Draw Time\n\n\t3614673599, // Blast Radius\n\t2523465841, // Velocity\n\n\t4043523819, // Impact\n\t1240592695, // Range\n\t1591432999, // Accuracy\n\t155624089, // Stability\n\t943549884, // Handling\n\t4188031367, // Reload Speed\n\t\n\t1345609583, // Aim Assistance\n\t3555269338, // Zoom\n\t2715839340, // Recoil Direction\n\n\t3871231066, // Magazine\n\t1931675084, // Inventory Size\n];\n\nconst statsNoBar = [\n\t4284893193, // Rounds Per Minute\n\t3871231066, // Magazine\n\t2961396640, // Charge Time\n\t447667954, // Draw Time\n\t1931675084, // Recovery\n\t2715839340 // Recoil Direction\n];\n\nexport const statsMs = [\n\t447667954, // Draw Time\n\t2961396640 // Charge Time\n];\n\nconst hiddenStatsWhitelist = [\n\t1345609583, // Aim Assistance\n\t3555269338, // Zoom\n\t2715839340 // Recoil Direction\n];\n\n\nexport function buildStats(\n\ttheManifest,\n\titemHash\n) {\n\tconsole.log('building stats');\n\tmanifest = theManifest;\n\n\tconst itemDef = manifest.DestinyInventoryItemDefinition[itemHash];\n\tif (!itemDef.stats || !itemDef.stats.statGroupHash) {\n\t\treturn null;\n\t}\n\n\tconst statGroup = manifest.DestinyStatGroupDefinition[itemDef.stats.statGroupHash];\n\tif (!statGroup) {\n\t\treturn null;\n\t}\n\n\tconsole.log(itemDef.stats, statGroup)\n\n\tlet investmentStats = buildInvestmentStats(itemDef, statGroup)\n}\n\nfunction buildInvestmentStats(itemDef, statGroup) {\n\tconst itemStats = itemDef.investmentStats;\n\tconst statDisplays = statGroup.scaledStats;\n\n\titemStats.map(itemStat => {\n\t\tconst statHash = itemStat.statTypeHash;\n\t\tif (!itemStat || !shouldShowStat(itemDef, statHash, statDisplays)) {\n\t\t\treturn undefined\n\t\t} else {\n\t\t\tconsole.log('passed')\n\t\t}\n\t})\n}\n\nfunction shouldShowStat(itemDef, statHash, statDisplays) {\n\tif (\n\t\tstatHash === 2961396640 &&\n\t\titemDef.itemCategoryHashes &&\n\t\titemDef.itemCategoryHashes.includes(3317538576)\n\t) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t// Must be on the whitelist\n\t\tstatWhiteList.includes(statHash) &&\n\t\t// Must be on the list of interpolated stats, or included in the hardcoded hidden stats list\n\t\t(statDisplays[statHash] || hiddenStatsWhitelist.includes(statHash))\n\t);\n}"]},"metadata":{},"sourceType":"module"}