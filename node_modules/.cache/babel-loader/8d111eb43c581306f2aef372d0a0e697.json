{"ast":null,"code":"let manifest;\n\nfunction containsOnly(array1, array2) {\n  return array2.every(elem => array1.includes(elem));\n}\n\nexport function buildPerks(theManifest, weapon) {\n  console.log('----- Building perks. -----');\n  manifest = theManifest;\n  const itemDef = manifest.DestinyInventoryItemDefinition[weapon.hash];\n  const socketEntries = itemDef.sockets.socketEntries;\n  let perkList = [[], [], [], [], []];\n  let slotCheck = 0;\n  socketEntries.map(socket => {\n    if (socket.plugSources === 2) {\n      socket.reusablePlugItems.map(plug => {\n        const plugItemsCategories = manifest.DestinyInventoryItemDefinition[plug.plugItemHash].itemCategoryHashes;\n\n        if (plugItemsCategories.includes(59) && plugItemsCategories.length > 1) {\n          perkList[slotCheck].push(plug.plugItemHash); // console.log(perkList, slotCheck)\n\n          slotCheck++; // curated.push(plug.plugItemHash)\n        }\n      });\n    }\n  });\n  console.log(perkList.map(perk => manifest.DestinyInventoryItemDefinition[perk[0]].displayProperties.name)); // return curated;\n}","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/utils/perks.js"],"names":["manifest","containsOnly","array1","array2","every","elem","includes","buildPerks","theManifest","weapon","console","log","itemDef","DestinyInventoryItemDefinition","hash","socketEntries","sockets","perkList","slotCheck","map","socket","plugSources","reusablePlugItems","plug","plugItemsCategories","plugItemHash","itemCategoryHashes","length","push","perk","displayProperties","name"],"mappings":"AAAA,IAAIA,QAAJ;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,MAA9B,EAAqC;AACpC,SAAOA,MAAM,CAACC,KAAP,CAAaC,IAAI,IAAIH,MAAM,CAACI,QAAP,CAAgBD,IAAhB,CAArB,CAAP;AACA;;AAED,OAAO,SAASE,UAAT,CACNC,WADM,EAENC,MAFM,EAGL;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAX,EAAAA,QAAQ,GAAGQ,WAAX;AACA,QAAMI,OAAO,GAAGZ,QAAQ,CAACa,8BAAT,CAAwCJ,MAAM,CAACK,IAA/C,CAAhB;AACA,QAAMC,aAAa,GAAGH,OAAO,CAACI,OAAR,CAAgBD,aAAtC;AACA,MAAIE,QAAQ,GAAG,CACd,EADc,EAEd,EAFc,EAGd,EAHc,EAId,EAJc,EAKd,EALc,CAAf;AAOA,MAAIC,SAAS,GAAG,CAAhB;AAEAH,EAAAA,aAAa,CAACI,GAAd,CAAkBC,MAAM,IAAI;AAC3B,QAAIA,MAAM,CAACC,WAAP,KAAuB,CAA3B,EAA8B;AAC7BD,MAAAA,MAAM,CAACE,iBAAP,CAAyBH,GAAzB,CAA6BI,IAAI,IAAI;AAEpC,cAAMC,mBAAmB,GAAGxB,QAAQ,CAACa,8BAAT,CAAwCU,IAAI,CAACE,YAA7C,EAA2DC,kBAAvF;;AAEA,YAAIF,mBAAmB,CAAClB,QAApB,CAA6B,EAA7B,KAAoCkB,mBAAmB,CAACG,MAApB,GAA6B,CAArE,EAAwE;AACvEV,UAAAA,QAAQ,CAACC,SAAD,CAAR,CAAoBU,IAApB,CAAyBL,IAAI,CAACE,YAA9B,EADuE,CAEvE;;AACAP,UAAAA,SAAS,GAH8D,CAIvE;AAEA;AACD,OAXD;AAYA;AACD,GAfD;AAiBAR,EAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACE,GAAT,CAAaU,IAAI,IAAI7B,QAAQ,CAACa,8BAAT,CAAwCgB,IAAI,CAAC,CAAD,CAA5C,EAAiDC,iBAAjD,CAAmEC,IAAxF,CAAZ,EA/BC,CAiCD;AACA","sourcesContent":["let manifest;\n\nfunction containsOnly(array1, array2){\n\treturn array2.every(elem => array1.includes(elem))\n}\n\nexport function buildPerks(\n\ttheManifest,\n\tweapon\n) {\n\tconsole.log('----- Building perks. -----');\n\tmanifest = theManifest;\n\tconst itemDef = manifest.DestinyInventoryItemDefinition[weapon.hash];\n\tconst socketEntries = itemDef.sockets.socketEntries;\n\tlet perkList = [\n\t\t[],\n\t\t[],\n\t\t[],\n\t\t[],\n\t\t[]\n\t];\n\tlet slotCheck = 0;\n\n\tsocketEntries.map(socket => {\n\t\tif (socket.plugSources === 2) {\n\t\t\tsocket.reusablePlugItems.map(plug => {\n\t\t\t\t\n\t\t\t\tconst plugItemsCategories = manifest.DestinyInventoryItemDefinition[plug.plugItemHash].itemCategoryHashes;\n\n\t\t\t\tif (plugItemsCategories.includes(59) && plugItemsCategories.length > 1) {\n\t\t\t\t\tperkList[slotCheck].push(plug.plugItemHash)\n\t\t\t\t\t// console.log(perkList, slotCheck)\n\t\t\t\t\tslotCheck++;\n\t\t\t\t\t// curated.push(plug.plugItemHash)\n\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t});\n\n\tconsole.log(perkList.map(perk => manifest.DestinyInventoryItemDefinition[perk[0]].displayProperties.name ))\n\n\t// return curated;\n}\n"]},"metadata":{},"sourceType":"module"}