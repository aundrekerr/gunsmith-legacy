{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/Suggestions.js\";\nimport React, { Component } from 'react'; // import PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux'; // import SearchFilter from './SearchFilter';\n// import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Autocomplete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = hash => {\n      // this.props.storeWeapon(hash);\t\n      // this.props.storePerks(null, 0);\n      // this.props.storePerks(null, 1);\n      // this.props.storePerks(null, 2);\n      // this.props.storePerks(null, 3);\n      this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions: [],\n        showSuggestions: false,\n        userInput: ''\n      });\n    };\n\n    this.state = {\n      weaponList: [],\n      filteredSuggestions: [],\n      showSuggestions: false,\n      userInput: '',\n      manifestLoaded: false,\n      filterView: 'hide',\n      toggleFilter: () => {\n        this.setState(({\n          filterView\n        }) => ({\n          filterView: filterView === 'hide' ? 'show' : 'hide'\n        }));\n      }\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (Object.keys(nextProps.manifest).length !== 0) {\n      const manifest = nextProps.manifest.manifest;\n      let weaponList = []; // All Weapons\n\n      Object.keys(nextProps.manifest.DestinyInventoryItemDefinition).map(weapon => {\n        return nextProps.manifest.DestinyInventoryItemDefinition[weapon].itemType === 3 ? weaponList.push(nextProps.manifest.DestinyInventoryItemDefinition[weapon]) : null;\n      });\n      const filters = nextProps.filters; // Weapon Rarity\n\n      if (filters.rarity) {\n        weaponList = weaponList.filter(weapon => {\n          return weapon.inventory.tierTypeHash === filters.rarity;\n        });\n      } // Weapon Type\n\n\n      if (filters.weaponType) {\n        weaponList = weaponList.filter(weapon => {\n          return weapon.itemSubType === filters.weaponType;\n        });\n      } // Damage Type\n\n\n      if (filters.damage) {\n        weaponList = weaponList.filter(weapon => {\n          return weapon.defaultDamageTypeHash === filters.damage;\n        });\n      }\n\n      this.setState({\n        manifestLoaded: true,\n        weaponList: weaponList,\n        filteredSuggestions: weaponList\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"search__suggestions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"suggestions\");\n  }\n\n} // Autocomplete.propTypes = {\n// \tstoreWeapon: PropTypes.func.isRequired,\n// \tstorePerks: PropTypes.func.isRequired\n// };\n\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest,\n  filters: state.filters\n});\n\nexport default connect(mapStateToProps, {})(Autocomplete);","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/Suggestions.js"],"names":["React","Component","connect","Autocomplete","constructor","props","onClick","hash","setState","activeSuggestion","filteredSuggestions","showSuggestions","userInput","state","weaponList","manifestLoaded","filterView","toggleFilter","componentWillReceiveProps","nextProps","Object","keys","manifest","length","DestinyInventoryItemDefinition","map","weapon","itemType","push","filters","rarity","filter","inventory","tierTypeHash","weaponType","itemSubType","damage","defaultDamageTypeHash","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n// import SearchFilter from './SearchFilter';\n\n// import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Autocomplete extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tweaponList: [],\n\t\t\tfilteredSuggestions: [],\n\t\t\tshowSuggestions: false,\n\t\t\tuserInput: '',\n\t\t\tmanifestLoaded: false,\n\t\t\tfilterView: 'hide',\n\t\t\ttoggleFilter: () => {\n\t\t\t\tthis.setState(({ filterView }) => ({\n\t\t\t\t\tfilterView: filterView === 'hide' ? 'show' : 'hide'\n\t\t\t\t}))\n\t\t\t},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif ( Object.keys((nextProps.manifest)).length !== 0 ) {\n\t\t\tconst { manifest } = nextProps.manifest;\n\t\t\tlet weaponList = [];\n\t\t\t\n\t\t\t// All Weapons\n\t\t\tObject.keys(nextProps.manifest.DestinyInventoryItemDefinition).map(weapon => {\n\t\t\t\treturn nextProps.manifest.DestinyInventoryItemDefinition[weapon].itemType === 3\n\t\t\t\t\t? weaponList.push(nextProps.manifest.DestinyInventoryItemDefinition[weapon])\n\t\t\t\t\t: null\n\t\t\t})\n\n\t\t\tconst filters = nextProps.filters;\n\n\t\t\t// Weapon Rarity\n\t\t\tif ( filters.rarity ) {\n\t\t\t\tweaponList = weaponList.filter(weapon => {\n\t\t\t\t\treturn weapon.inventory.tierTypeHash === filters.rarity \n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// Weapon Type\n\t\t\tif ( filters.weaponType ) {\n\t\t\t\tweaponList = weaponList.filter(weapon => {\n\t\t\t\t\treturn weapon.itemSubType === filters.weaponType \n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// Damage Type\n\t\t\tif ( filters.damage ) {\n\t\t\t\tweaponList = weaponList.filter(weapon => {\n\t\t\t\t\treturn weapon.defaultDamageTypeHash === filters.damage \n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.setState({ \n\t\t\t\tmanifestLoaded: true,\n\t\t\t\tweaponList: weaponList,\n\t\t\t\tfilteredSuggestions: weaponList\n\t\t\t})\n\t\t}\n\t}\n\n\tonClick = (hash) => {\n\t\t// this.props.storeWeapon(hash);\t\n\t\t// this.props.storePerks(null, 0);\n\t\t// this.props.storePerks(null, 1);\n\t\t// this.props.storePerks(null, 2);\n\t\t// this.props.storePerks(null, 3);\n\n\t\tthis.setState({\n\t\t\tactiveSuggestion: 0,\n\t\t\tfilteredSuggestions: [],\n\t\t\tshowSuggestions: false,\n\t\t\tuserInput: ''\n\t\t})\n\t}\n\n\trender() {\n\t\t\n\t\t\n\t\treturn (\n\t\t\t<div className=\"search__suggestions\">\n\t\t\t\tsuggestions\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n// Autocomplete.propTypes = {\n// \tstoreWeapon: PropTypes.func.isRequired,\n// \tstorePerks: PropTypes.func.isRequired\n// };\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n\tfilters: state.filters,\n});\n\nexport default connect(mapStateToProps, { })(Autocomplete);"]},"metadata":{},"sourceType":"module"}