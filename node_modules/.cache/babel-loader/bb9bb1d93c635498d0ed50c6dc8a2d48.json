{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/Wishlist.js\";\nimport React, { useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Tooltip from './../Tooltip.js';\n\nconst DIMIcon = () => React.createElement(\"svg\", {\n  enableBackground: \"new 0 0 921 921\",\n  viewBox: \"0 0 921 921\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, React.createElement(\"g\", {\n  fill: \"#ccc\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, React.createElement(\"path\", {\n  d: \"m552.6 460.5-92.1-92.1-92.1 92.1 92.1 92.1z\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}), React.createElement(\"path\", {\n  d: \"m835.8 375.3-6.8-6.8-92.1-92.1-92.1-92.1-101.7-101.8-82.6-82.5-92.1 92.1 74.7 74.8 109.5 109.5 92.1 92.1 92.1 92.1-92.1 92.1-74.9 74.9-109.3 109.2-92.1-92.1-92.1-92.1-85-85-7.1-7.1 103.4-103.4 80.8-80.8-92.1-92.1-92.1 92.1-92.1 92.1-92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1-77.3-77.3z\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n})));\n\nconst Wishlist = props => {\n  const textAreaRef = useRef(null);\n\n  function buildWishlistValue() {\n    let weaponHash = props.weapon.hash;\n    let perks = Object.values(props.weapon.perks).filter(perk => perk.hash !== 0 && perk);\n    let mwHash = props.weapon.masterwork.hash;\n    let wishlistItem = ''; // Add the weapon hash\n\n    wishlistItem = weaponHash !== 0 && `dimwishlist:item=${weaponHash}`; // Add perks\n\n    wishlistItem = perks.length > 0 ? `${wishlistItem}&perks=` : wishlistItem;\n    perks.forEach((perk, index) => {\n      wishlistItem = `${wishlistItem}${index === 0 ? perk.hash : \",\" + perk.hash}`;\n    }); // Add masterwork\n\n    wishlistItem = mwHash !== 0 ? `${wishlistItem}${perks.length > 0 ? ',' + mwHash : mwHash}` : wishlistItem;\n    return wishlistItem;\n  }\n\n  function copyToClipboard(e) {\n    textAreaRef.current.select();\n    document.execCommand('copy');\n    e.target.focus();\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    className: \"current__wishlist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, document.queryCommandSupported('copy') && React.createElement(\"div\", {\n    \"data-for\": `getContent-wishlist`,\n    \"data-tip\": true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: copyToClipboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(DIMIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(Tooltip, {\n    hash: `wishlist`,\n    title: 'DIM Wishlist',\n    description: 'Export a DIM Wishlist item to your clipboard.',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    readOnly: true,\n    ref: textAreaRef,\n    value: buildWishlistValue(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })));\n};\n\nconst mapStateToProps = state => ({\n  weapon: state.weapon\n});\n\nexport default connect(mapStateToProps, {})(Wishlist);","map":{"version":3,"sources":["/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/Wishlist.js"],"names":["React","useRef","connect","Tooltip","DIMIcon","Wishlist","props","textAreaRef","buildWishlistValue","weaponHash","weapon","hash","perks","Object","values","filter","perk","mwHash","masterwork","wishlistItem","length","forEach","index","copyToClipboard","e","current","select","document","execCommand","target","focus","queryCommandSupported","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,iBAApB;;AAEA,MAAMC,OAAO,GAAG,MACf;AAAK,EAAA,gBAAgB,EAAC,iBAAtB;AAAwC,EAAA,OAAO,EAAC,aAAhD;AAA8D,EAAA,KAAK,EAAC,4BAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACC;AAAG,EAAA,IAAI,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACC;AAAM,EAAA,CAAC,EAAC,6CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADD,EAEC;AAAM,EAAA,CAAC,EAAC,mWAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAFD,CADD,CADD;;AAQA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAEzB,QAAMC,WAAW,GAAGN,MAAM,CAAC,IAAD,CAA1B;;AAEA,WAASO,kBAAT,GAA8B;AAC7B,QAAIC,UAAU,GAAGH,KAAK,CAACI,MAAN,CAAaC,IAA9B;AACA,QAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAcR,KAAK,CAACI,MAAN,CAAaE,KAA3B,EAAkCG,MAAlC,CAAyCC,IAAI,IAAIA,IAAI,CAACL,IAAL,KAAc,CAAd,IAAmBK,IAApE,CAAZ;AACA,QAAIC,MAAM,GAAGX,KAAK,CAACI,MAAN,CAAaQ,UAAb,CAAwBP,IAArC;AACA,QAAIQ,YAAY,GAAG,EAAnB,CAJ6B,CAM7B;;AACAA,IAAAA,YAAY,GAAGV,UAAU,KAAK,CAAf,IAAqB,oBAAmBA,UAAW,EAAlE,CAP6B,CAS7B;;AACAU,IAAAA,YAAY,GAAGP,KAAK,CAACQ,MAAN,GAAe,CAAf,GAAoB,GAAED,YAAa,SAAnC,GAA8CA,YAA7D;AACAP,IAAAA,KAAK,CAACS,OAAN,CAAc,CAACL,IAAD,EAAOM,KAAP,KAAiB;AAC9BH,MAAAA,YAAY,GAAI,GAAEA,YAAa,GAAEG,KAAK,KAAK,CAAV,GAAcN,IAAI,CAACL,IAAnB,GAA0B,MAAIK,IAAI,CAACL,IAAK,EAAzE;AACA,KAFD,EAX6B,CAe7B;;AACAQ,IAAAA,YAAY,GAAGF,MAAM,KAAK,CAAX,GAAgB,GAAEE,YAAa,GAAEP,KAAK,CAACQ,MAAN,GAAe,CAAf,GAAmB,MAAIH,MAAvB,GAAgCA,MAAQ,EAAzE,GAA6EE,YAA5F;AAEA,WAAOA,YAAP;AACA;;AAEA,WAASI,eAAT,CAAyBC,CAAzB,EAA4B;AAC1BjB,IAAAA,WAAW,CAACkB,OAAZ,CAAoBC,MAApB;AACFC,IAAAA,QAAQ,CAACC,WAAT,CAAqB,MAArB;AACAJ,IAAAA,CAAC,CAACK,MAAF,CAASC,KAAT;AACC;;AAAA;AAED,SACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEAH,QAAQ,CAACI,qBAAT,CAA+B,MAA/B,KACC;AACC,gBAAW,qBADZ;AAEC,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AACC,IAAA,OAAO,EAAER,eADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAHF,EAOE,oBAAC,OAAD;AACC,IAAA,IAAI,EAAG,UADR;AAEC,IAAA,KAAK,EAAG,cAFT;AAGC,IAAA,WAAW,EAAG,+CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAHD,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACH,IAAA,QAAQ,MADL;AAEH,IAAA,GAAG,EAAEhB,WAFF;AAGH,IAAA,KAAK,EAAEC,kBAAkB,EAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,CADF;AA2BD,CA1DD;;AA4DA,MAAMwB,eAAe,GAAGC,KAAK,KAAK;AACjCvB,EAAAA,MAAM,EAAEuB,KAAK,CAACvB;AADmB,CAAL,CAA7B;;AAIA,eAAeR,OAAO,CAAC8B,eAAD,EAAkB,EAAlB,CAAP,CAEZ3B,QAFY,CAAf","sourcesContent":["import React, { useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Tooltip from './../Tooltip.js';\n\nconst DIMIcon = () => (\n\t<svg enableBackground=\"new 0 0 921 921\" viewBox=\"0 0 921 921\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<g fill=\"#ccc\">\n\t\t\t<path d=\"m552.6 460.5-92.1-92.1-92.1 92.1 92.1 92.1z\"/>\n\t\t\t<path d=\"m835.8 375.3-6.8-6.8-92.1-92.1-92.1-92.1-101.7-101.8-82.6-82.5-92.1 92.1 74.7 74.8 109.5 109.5 92.1 92.1 92.1 92.1-92.1 92.1-74.9 74.9-109.3 109.2-92.1-92.1-92.1-92.1-85-85-7.1-7.1 103.4-103.4 80.8-80.8-92.1-92.1-92.1 92.1-92.1 92.1-92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1-77.3-77.3z\"/>\n\t\t</g>\n\t</svg>\n)\nconst Wishlist = props => {\n\n\tconst textAreaRef = useRef(null);\n\t\n\tfunction buildWishlistValue() {\n\t\tlet weaponHash = props.weapon.hash;\n\t\tlet perks = Object.values(props.weapon.perks).filter(perk => perk.hash !== 0 && perk);\n\t\tlet mwHash = props.weapon.masterwork.hash;\n\t\tlet wishlistItem = '';\n\t\t\n\t\t// Add the weapon hash\n\t\twishlistItem = weaponHash !== 0 && `dimwishlist:item=${weaponHash}`;\n\n\t\t// Add perks\n\t\twishlistItem = perks.length > 0 ? `${wishlistItem}&perks=` : wishlistItem\n\t\tperks.forEach((perk, index) => {\n\t\t\twishlistItem = `${wishlistItem}${index === 0 ? perk.hash : \",\"+perk.hash}`;\n\t\t});\n\n\t\t// Add masterwork\n\t\twishlistItem = mwHash !== 0 ? `${wishlistItem}${perks.length > 0 ? ','+mwHash : mwHash }` : wishlistItem\n\n\t\treturn wishlistItem;\n\t}\n\n  function copyToClipboard(e) {\n    textAreaRef.current.select();\n\t\tdocument.execCommand('copy');\n\t\te.target.focus();\n  };\n\n  return (\n    <div className=\"current__wishlist\">\n      {\n\t\t\t\tdocument.queryCommandSupported('copy') && \n\t\t\t\t\t<div\n\t\t\t\t\t\tdata-for={`getContent-wishlist`} \n\t\t\t\t\t\tdata-tip>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tonClick={copyToClipboard}>\n\t\t\t\t\t\t\t\t\t<DIMIcon />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<Tooltip \n\t\t\t\t\t\t\t\thash={`wishlist`}\n\t\t\t\t\t\t\t\ttitle={ 'DIM Wishlist' }\n\t\t\t\t\t\t\t\tdescription={ 'Export a DIM Wishlist item to your clipboard.' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n      }\n      <form>\n        <textarea\n\t\t\t\t\treadOnly\n\t\t\t\t\tref={textAreaRef}\n\t\t\t\t\tvalue={buildWishlistValue()}\n        />\n      </form>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n\tweapon: state.weapon,\n});\n\nexport default connect(mapStateToProps, {\n\n})(Wishlist);"]},"metadata":{},"sourceType":"module"}