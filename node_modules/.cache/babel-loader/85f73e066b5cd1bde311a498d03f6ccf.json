{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Current from './Current';\nimport Vanity from './Vanity';\nimport Perks from './Perks';\nimport Mods from './Mods';\nimport Masterworks from './Masterworks';\nimport Hashids from 'hashids';\nimport { storeWeapon, storePerks, storeMod, storeMasterwork } from './../../actions/weaponActions';\nimport { Route, withRouter } from \"react-router-dom\";\nconst hashids = new Hashids();\n\nclass Weapon extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.unpackBuiltId = builtId => {\n      const manifest = this.props.manifest;\n      const decoded = hashids.decode(builtId);\n      console.log(decoded);\n      this.props.storeWeapon(decoded[0]);\n      if (decoded[1]) this.props.storePerks({\n        hash: decoded[1]\n      }, 1);\n      if (decoded[2]) this.props.storePerks({\n        hash: decoded[2]\n      }, 2);\n      if (decoded[3]) this.props.storePerks({\n        hash: decoded[3]\n      }, 3);\n      if (decoded[4]) this.props.storePerks({\n        hash: decoded[4]\n      }, 4);\n\n      if (decoded[5]) {\n        if (decoded[5] !== 0) {\n          const modDef = manifest.DestinyInventoryItemDefinition[decoded[5]];\n          console.log(modDef);\n          this.props.storeMod(modDef);\n        }\n      }\n\n      if (decoded[6]) {\n        if (decoded[6] !== 0) {\n          const mwDef = manifest.DestinyInventoryItemDefinition[decoded[6]];\n          console.log(mwDef);\n          this.props.storeMasterwork(mwDef);\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    const weapon = this.props.weapon;\n\n    if (!weapon.hash) {\n      this.unpackBuiltId(this.props.match.params.builtId);\n      console.log(this.props.weapon.perks);\n    }\n  }\n\n  render() {\n    const weapon = this.props.weapon;\n\n    if (weapon.hash !== null) {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/w\",\n        render: ({\n          history\n        }) => React.createElement(\"div\", {\n          className: \"weapon__wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Vanity, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(Current, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(Perks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(Masterworks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(Mods, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(Empty, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest,\n  weapon: state.weapon\n});\n\nexport default connect(mapStateToProps, {\n  storeWeapon,\n  storePerks,\n  storeMod,\n  storeMasterwork\n})(withRouter(Weapon));\n\nconst Empty = props => {\n  return React.createElement(\"div\", {\n    className: \"weapon__wrapper empty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Uh oh.\"));\n};","map":{"version":3,"sources":["/Users/aundrekerr/Documents/GitHub/gunsmith/src/components/Weapon/index.js"],"names":["React","Component","connect","Current","Vanity","Perks","Mods","Masterworks","Hashids","storeWeapon","storePerks","storeMod","storeMasterwork","Route","withRouter","hashids","Weapon","unpackBuiltId","builtId","manifest","props","decoded","decode","console","log","hash","modDef","DestinyInventoryItemDefinition","mwDef","componentDidMount","weapon","match","params","perks","render","history","mapStateToProps","state","Empty"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Current from './Current';\nimport Vanity from './Vanity';\nimport Perks from './Perks';\nimport Mods from './Mods';\nimport Masterworks from './Masterworks';\nimport Hashids from 'hashids';\nimport { storeWeapon, storePerks, storeMod, storeMasterwork } from './../../actions/weaponActions';\nimport { Route, withRouter } from \"react-router-dom\";\nconst hashids = new Hashids();\n\nclass Weapon extends Component {\n\n\tcomponentDidMount() {\n\t\tconst { weapon } = this.props;\n\n\t\tif ( !weapon.hash ) {\n\t\t\tthis.unpackBuiltId(this.props.match.params.builtId);\n\t\t\tconsole.log(this.props.weapon.perks)\n\t\t}\n\t}\n\n\tunpackBuiltId = (builtId) => {\n\t\tconst { manifest } = this.props;\n\t\tconst decoded = hashids.decode(builtId);\n\t\tconsole.log(decoded);\n\t\tthis.props.storeWeapon( decoded[0] );\n\t\tif ( decoded[1] ) this.props.storePerks({ hash: decoded[1] }, 1);\n\t\tif ( decoded[2] ) this.props.storePerks({ hash: decoded[2] }, 2);\n\t\tif ( decoded[3] ) this.props.storePerks({ hash: decoded[3] }, 3);\n\t\tif ( decoded[4] ) this.props.storePerks({ hash: decoded[4] }, 4);\n\t\tif ( decoded[5] ) {\n\t\t\tif ( decoded[5] !== 0) {\n\t\t\t\tconst modDef = manifest.DestinyInventoryItemDefinition[ decoded[5] ];\n\t\t\t\tconsole.log(modDef)\n\t\t\t\tthis.props.storeMod( modDef );\n\t\t\t}\n\t\t}\n\t\tif ( decoded[6] ) {\n\t\t\tif ( decoded[6] !== 0) {\n\t\t\t\tconst mwDef = manifest.DestinyInventoryItemDefinition[ decoded[6] ];\n\t\t\t\tconsole.log(mwDef)\n\t\t\t\tthis.props.storeMasterwork( mwDef );\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tprops: {\n\t\t\t\tweapon \n\t\t\t}\n\t\t} = this;\n\n\t\tif ( weapon.hash !== null ) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Route path='/w' render={({ history }) => (\n\t\t\t\t\t\t<div className=\"weapon__wrapper\">\n\t\t\t\t\t\t\t<Vanity />\n\t\t\t\t\t\t\t<Current />\n\t\t\t\t\t\t\t<Perks />\n\t\t\t\t\t\t\t<Masterworks />\n\t\t\t\t\t\t\t<Mods />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}/>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Empty />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n\tweapon: state.weapon,\n});\n\nexport default connect(mapStateToProps, {\n\tstoreWeapon, storePerks, storeMod, storeMasterwork,\n})(withRouter(Weapon));\n\n\nconst Empty = (props) => {\n\treturn (\n\t\t<div className=\"weapon__wrapper empty\">\n\t\t\t<p>Uh oh.</p>\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}