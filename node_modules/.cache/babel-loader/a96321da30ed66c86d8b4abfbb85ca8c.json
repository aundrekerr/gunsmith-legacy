{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/Suggestions.js\";\nimport React, { Component } from 'react'; // import PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux'; // import SearchFilter from './SearchFilter';\n// import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Suggestions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.arraysEqual = (a, b) => {\n      /*\n      \tArray-aware equality checker:\n      \tReturns whether arguments a and b are == to each other;\n      \thowever if they are equal-lengthed arrays, returns whether their \n      \telements are pairwise == to each other recursively under this\n      \tdefinition.\n      */\n      if (a instanceof Array && b instanceof Array) {\n        if (a.length != b.length) // assert same length\n          return false;\n\n        for (var i = 0; i < a.length; i++) // assert each element equal\n        if (!arraysEqual(a[i], b[i])) return false;\n\n        return true;\n      } else {\n        return a == b; // if not both arrays, should be the same\n      }\n    };\n\n    this.state = {\n      filteredSuggestions: this.props.filteredSuggestions\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // if (prevProps.filteredSuggestions ) {\n    // }\n    console.log(this.arraysEqual(this.state.filteredSuggestions, prevProps.filteredSuggestions));\n  }\n\n  render() {\n    const filteredSuggestions = this.state.filteredSuggestions,\n          _this$props = this.props,\n          manifest = _this$props.manifest,\n          showSuggestions = _this$props.showSuggestions,\n          userInput = _this$props.userInput;\n    console.log(showSuggestions, filteredSuggestions);\n    return React.createElement(\"div\", {\n      className: \"search__suggestions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, showSuggestions && userInput ? filteredSuggestions.length ? React.createElement(SuggestionList, {\n      filteredSuggestions: filteredSuggestions,\n      manifest: manifest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }) : React.createElement(SuggestionListEmpty, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest\n});\n\nexport default connect(mapStateToProps, {})(Suggestions);\n\nconst SuggestionList = props => {\n  const filteredSuggestions = props.filteredSuggestions,\n        manifest = props.manifest;\n  return React.createElement(\"ul\", {\n    className: \"weapon-list__suggestions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, filteredSuggestions.map(suggestion => {\n    return React.createElement(\"li\", {\n      key: suggestion.hash,\n      onClick: () => {\n        this.onClick(suggestion.hash);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"weapon-list__item-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://www.bungie.net\".concat(manifest.DestinyInventoryItemDefinition[suggestion.hash].displayProperties.icon),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"weapon-list__item-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"weapon-list__item-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, manifest.DestinyInventoryItemDefinition[suggestion.hash].displayProperties.name), React.createElement(\"span\", {\n      className: \"weapon-list__item-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, manifest.DestinyInventoryItemDefinition[suggestion.hash].itemTypeDisplayName)));\n  }));\n};\n\nconst SuggestionListEmpty = props => {\n  return React.createElement(\"ul\", {\n    className: \"weapon-list__suggestions no-suggestion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"em\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"No weapon found. Use your light.\"));\n};","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/Suggestions.js"],"names":["React","Component","connect","Suggestions","constructor","props","arraysEqual","a","b","Array","length","i","state","filteredSuggestions","componentDidUpdate","prevProps","console","log","render","manifest","showSuggestions","userInput","mapStateToProps","SuggestionList","map","suggestion","hash","onClick","DestinyInventoryItemDefinition","displayProperties","icon","name","itemTypeDisplayName","SuggestionListEmpty"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n// import SearchFilter from './SearchFilter';\n\n// import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Suggestions extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tfilteredSuggestions: this.props.filteredSuggestions\n\t\t}\n\t}\n\n\tarraysEqual = (a,b) => {\n\t\t/*\n\t\t\tArray-aware equality checker:\n\t\t\tReturns whether arguments a and b are == to each other;\n\t\t\thowever if they are equal-lengthed arrays, returns whether their \n\t\t\telements are pairwise == to each other recursively under this\n\t\t\tdefinition.\n\t\t*/\n\t\tif (a instanceof Array && b instanceof Array) {\n\t\t\tif (a.length!=b.length)  // assert same length\n\t\t\t\treturn false;\n\t\t\tfor(var i=0; i<a.length; i++)  // assert each element equal\n\t\t\t\tif (!arraysEqual(a[i],b[i]))\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn a==b;  // if not both arrays, should be the same\n\t\t}\n\t}\n\t\n\tcomponentDidUpdate(prevProps) {\n\t\t// if (prevProps.filteredSuggestions ) {\n\n\t\t// }\n\n\t\tconsole.log(this.arraysEqual(this.state.filteredSuggestions, prevProps.filteredSuggestions))\n\t}\n\n\t\n\n\trender() {\n\t\tconst {\n\t\t\tstate: {\n\t\t\t\tfilteredSuggestions\n\t\t\t},\n\t\t\tprops: { manifest,\n\t\t\t\tshowSuggestions,\n\t\t\t\tuserInput,\n\t\t\t}\n\t\t} = this;\n\t\n\t\tconsole.log(showSuggestions, filteredSuggestions)\n\n\t\treturn (\n\t\t\t<div className=\"search__suggestions\">\n\t\t\t\t{\n\t\t\t\t\tshowSuggestions && userInput \n\t\t\t\t\t\t? filteredSuggestions.length \n\t\t\t\t\t\t\t? <SuggestionList \n\t\t\t\t\t\t\t\tfilteredSuggestions={ filteredSuggestions }\n\t\t\t\t\t\t\t\tmanifest={ manifest }\n\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t: <SuggestionListEmpty />\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest\n});\nexport default connect(mapStateToProps, { })(Suggestions);\n\n \nconst SuggestionList = (props) => {\n\tconst { filteredSuggestions, manifest } = props;\n\n\treturn (\n\t\t<ul className=\"weapon-list__suggestions\">\n\t\t\t\t{\n\t\t\t\t\tfilteredSuggestions.map((suggestion) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li \n\t\t\t\t\t\t\t\tkey={ suggestion.hash } \n\t\t\t\t\t\t\t\tonClick={() => { this.onClick(suggestion.hash) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"weapon-list__item-icon\">\n\t\t\t\t\t\t\t\t\t<img src={`https://www.bungie.net${manifest.DestinyInventoryItemDefinition[suggestion.hash].displayProperties.icon}`} alt=\"\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"weapon-list__item-title\">\n\t\t\t\t\t\t\t\t\t<span className='weapon-list__item-name'>{ manifest.DestinyInventoryItemDefinition[suggestion.hash].displayProperties.name }</span>\n\t\t\t\t\t\t\t\t\t<span className='weapon-list__item-type'>{ manifest.DestinyInventoryItemDefinition[suggestion.hash].itemTypeDisplayName }</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t)\n}\n\nconst SuggestionListEmpty = (props) => {\n\treturn (\n\t\t<ul className=\"weapon-list__suggestions no-suggestion\">\n\t\t\t<em>No weapon found. Use your light.</em>\n\t\t</ul>\n\t)\n}"]},"metadata":{},"sourceType":"module"}