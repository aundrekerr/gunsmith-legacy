{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/SearchInput.js\";\nimport React, { Component } from 'react'; // import PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { storeWeapon, storePerks } from './../../actions/weaponActions';\nimport SearchFilter from './SearchFilter'; // import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Autocomplete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const suggestions = this.state.weaponList;\n      const userInput = e.currentTarget.value;\n      const filteredSuggestions = suggestions.filter(suggestion => suggestion.displayProperties.name.toLowerCase().indexOf(userInput.toLowerCase()) > -1);\n      this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions,\n        showSuggestions: true,\n        userInput: e.currentTarget.value\n      });\n    };\n\n    this.state = {\n      weaponList: [],\n      filteredSuggestions: [],\n      showSuggestions: false,\n      userInput: '',\n      manifestLoaded: false\n    };\n  } // componentWillReceiveProps(nextProps) {\n  // \tif ( Object.keys((nextProps.manifest)).length !== 0 ) {\n  // \t\tlet weaponList = [];\n  // \t\t// All Weapons\n  // \t\tObject.keys(nextProps.manifest.DestinyInventoryItemDefinition).map(weapon => {\n  // \t\t\treturn nextProps.manifest.DestinyInventoryItemDefinition[weapon].itemType === 3\n  // \t\t\t\t? weaponList.push(nextProps.manifest.DestinyInventoryItemDefinition[weapon])\n  // \t\t\t\t: null\n  // \t\t})\n  // \t\tconst filters = nextProps.filters;\n  // \t\t// Weapon Rarity\n  // \t\tif ( filters.rarity ) {\n  // \t\t\tweaponList = weaponList.filter(weapon => {\n  // \t\t\t\treturn weapon.inventory.tierTypeHash === filters.rarity \n  // \t\t\t})\n  // \t\t}\n  // \t\t// Weapon Type\n  // \t\tif ( filters.weaponType ) {\n  // \t\t\tweaponList = weaponList.filter(weapon => {\n  // \t\t\t\treturn weapon.itemSubType === filters.weaponType \n  // \t\t\t})\n  // \t\t}\n  // \t\t// Damage Type\n  // \t\tif ( filters.damage ) {\n  // \t\t\tweaponList = weaponList.filter(weapon => {\n  // \t\t\t\treturn weapon.defaultDamageTypeHash === filters.damage \n  // \t\t\t})\n  // \t\t}\n  // \t\tthis.setState({ \n  // \t\t\tmanifestLoaded: true,\n  // \t\t\tweaponList: weaponList,\n  // \t\t\tfilteredSuggestions: weaponList\n  // \t\t})\n  // \t}\n  // }\n\n\n  render() {\n    const onChange = this.onChange,\n          _this$state = this.state,\n          userInput = _this$state.userInput,\n          manifestLoaded = _this$state.manifestLoaded;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search__input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: onChange,\n      value: userInput,\n      placeholder: \"Find a weapon.\",\n      id: \"search\",\n      disabled: manifestLoaded === false ? true : false,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })));\n  }\n\n}\n\nAutocomplete.propTypes = {\n  storeWeapon: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest\n});\n\nexport default connect(mapStateToProps, {\n  storeWeapon\n})(Autocomplete);","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Search/SearchInput.js"],"names":["React","Component","connect","storeWeapon","storePerks","SearchFilter","Autocomplete","constructor","props","onChange","e","suggestions","state","weaponList","userInput","currentTarget","value","filteredSuggestions","filter","suggestion","displayProperties","name","toLowerCase","indexOf","setState","activeSuggestion","showSuggestions","manifestLoaded","render","propTypes","PropTypes","func","isRequired","mapStateToProps","manifest"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,+BAAxC;AACA,OAAOC,YAAP,MAAyB,gBAAzB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AACpCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAsDnBC,QAtDmB,GAsDRC,CAAC,IAAI;AACf,YAAMC,WAAW,GAAG,KAAKC,KAAL,CAAWC,UAA/B;AACA,YAAMC,SAAS,GAAGJ,CAAC,CAACK,aAAF,CAAgBC,KAAlC;AAEA,YAAMC,mBAAmB,GAAGN,WAAW,CAACO,MAAZ,CAC3BC,UAAU,IAAKA,UAAU,CAACC,iBAAX,CAA6BC,IAA9B,CAAoCC,WAApC,GAAkDC,OAAlD,CAA0DT,SAAS,CAACQ,WAAV,EAA1D,IAAqF,CAAC,CADzE,CAA5B;AAIA,WAAKE,QAAL,CAAc;AACbC,QAAAA,gBAAgB,EAAE,CADL;AAEbR,QAAAA,mBAFa;AAGbS,QAAAA,eAAe,EAAE,IAHJ;AAIbZ,QAAAA,SAAS,EAAEJ,CAAC,CAACK,aAAF,CAAgBC;AAJd,OAAd;AAMA,KApEkB;;AAGlB,SAAKJ,KAAL,GAAa;AACZC,MAAAA,UAAU,EAAE,EADA;AAEZI,MAAAA,mBAAmB,EAAE,EAFT;AAGZS,MAAAA,eAAe,EAAE,KAHL;AAIZZ,MAAAA,SAAS,EAAE,EAJC;AAKZa,MAAAA,cAAc,EAAE;AALJ,KAAb;AAOA,GAXmC,CAapC;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAkBAC,EAAAA,MAAM,GAAG;AAAA,UAEPnB,QAFO,GAOJ,IAPI,CAEPA,QAFO;AAAA,wBAOJ,IAPI,CAGPG,KAHO;AAAA,UAINE,SAJM,eAINA,SAJM;AAAA,UAKNa,cALM,eAKNA,cALM;AASR,WACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,QAAQ,EAAGlB,QAFZ;AAGC,MAAA,KAAK,EAAGK,SAHT;AAIC,MAAA,WAAW,EAAC,gBAJb;AAKC,MAAA,EAAE,EAAC,QALJ;AAMC,MAAA,QAAQ,EAAGa,cAAc,KAAK,KAAnB,GAA2B,IAA3B,GAAkC,KAN9C;AAOC,MAAA,YAAY,EAAC,KAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CADD;AAeA;;AA/FmC;;AAkGrCrB,YAAY,CAACuB,SAAb,GAAyB;AACxB1B,EAAAA,WAAW,EAAE2B,SAAS,CAACC,IAAV,CAAeC;AADJ,CAAzB;;AAIA,MAAMC,eAAe,GAAGrB,KAAK,KAAK;AACjCsB,EAAAA,QAAQ,EAAEtB,KAAK,CAACsB;AADiB,CAAL,CAA7B;;AAIA,eAAehC,OAAO,CAAC+B,eAAD,EAAkB;AAAE9B,EAAAA;AAAF,CAAlB,CAAP,CAA0CG,YAA1C,CAAf","sourcesContent":["import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { storeWeapon, storePerks } from './../../actions/weaponActions';\nimport SearchFilter from './SearchFilter';\n\n// import yearTwo from './../../utils/weaponSets/yearTwo.js';\n// const weaponList = [];\n// yearTwo.forEach(set => {\n// \t(set.weapons).map((weapon) => {\n// \t\treturn weaponList.push(weapon);\n// \t})\n// });\n\nclass Autocomplete extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tweaponList: [],\n\t\t\tfilteredSuggestions: [],\n\t\t\tshowSuggestions: false,\n\t\t\tuserInput: '',\n\t\t\tmanifestLoaded: false,\n\t\t}\n\t}\n\n\t// componentWillReceiveProps(nextProps) {\n\t// \tif ( Object.keys((nextProps.manifest)).length !== 0 ) {\n\t// \t\tlet weaponList = [];\n\t\t\t\n\t// \t\t// All Weapons\n\t// \t\tObject.keys(nextProps.manifest.DestinyInventoryItemDefinition).map(weapon => {\n\t// \t\t\treturn nextProps.manifest.DestinyInventoryItemDefinition[weapon].itemType === 3\n\t// \t\t\t\t? weaponList.push(nextProps.manifest.DestinyInventoryItemDefinition[weapon])\n\t// \t\t\t\t: null\n\t// \t\t})\n\n\t// \t\tconst filters = nextProps.filters;\n\n\t// \t\t// Weapon Rarity\n\t// \t\tif ( filters.rarity ) {\n\t// \t\t\tweaponList = weaponList.filter(weapon => {\n\t// \t\t\t\treturn weapon.inventory.tierTypeHash === filters.rarity \n\t// \t\t\t})\n\t// \t\t}\n\n\t// \t\t// Weapon Type\n\t// \t\tif ( filters.weaponType ) {\n\t// \t\t\tweaponList = weaponList.filter(weapon => {\n\t// \t\t\t\treturn weapon.itemSubType === filters.weaponType \n\t// \t\t\t})\n\t// \t\t}\n\n\t// \t\t// Damage Type\n\t// \t\tif ( filters.damage ) {\n\t// \t\t\tweaponList = weaponList.filter(weapon => {\n\t// \t\t\t\treturn weapon.defaultDamageTypeHash === filters.damage \n\t// \t\t\t})\n\t// \t\t}\n\n\t// \t\tthis.setState({ \n\t// \t\t\tmanifestLoaded: true,\n\t// \t\t\tweaponList: weaponList,\n\t// \t\t\tfilteredSuggestions: weaponList\n\t// \t\t})\n\t// \t}\n\t// }\n\n\tonChange = e => {\n\t\tconst suggestions = this.state.weaponList;\n\t\tconst userInput = e.currentTarget.value;\n\n\t\tconst filteredSuggestions = suggestions.filter(\n\t\t\tsuggestion => (suggestion.displayProperties.name).toLowerCase().indexOf(userInput.toLowerCase()) > -1\n\t\t);\n\n\t\tthis.setState({\n\t\t\tactiveSuggestion: 0,\n\t\t\tfilteredSuggestions,\n\t\t\tshowSuggestions: true,\n\t\t\tuserInput: e.currentTarget.value\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tonChange,\n\t\t\tstate: {\n\t\t\t\tuserInput,\n\t\t\t\tmanifestLoaded,\n\t\t\t}\n\t\t} = this;\n\t\t\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"search__input\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalue={ userInput }\n\t\t\t\t\t\tplaceholder='Find a weapon.'\n\t\t\t\t\t\tid='search'\n\t\t\t\t\t\tdisabled={ manifestLoaded === false ? true : false }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nAutocomplete.propTypes = {\n\tstoreWeapon: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n});\n\nexport default connect(mapStateToProps, { storeWeapon })(Autocomplete);"]},"metadata":{},"sourceType":"module"}