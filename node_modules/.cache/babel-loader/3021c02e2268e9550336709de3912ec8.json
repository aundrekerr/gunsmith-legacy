{"ast":null,"code":"let manifest;\nexport function getMasterworks(theManifest, weaponHash) {\n  let manifest = theManifest;\n  const itemDef = manifest.DestinyInventoryItemDefinition[weaponHash];\n  const socketEntries = itemDef.sockets.socketEntries;\n  let mwCollection = {\n    stability: [],\n    range: [],\n    handling: [],\n    damage: [],\n    // Impact\n    reload: [],\n    blast_radius: [],\n    projectile_speed: [],\n    // Velocity\n    charge_time: [],\n    draw_time: [],\n    accuracy: []\n  }; // Map through slots to find ones that are genuine perks.\n\n  socketEntries.map(socket => {\n    if (socket.plugSources === 3 // not perks\n    && socket.preventInitializationOnVendorPurchase === true // something only MWs had???\n    && socket.socketTypeHash !== 1288200359 // not default shader\n    ) {\n        // Map through MW levels\n        socket.reusablePlugItems.map(mw => {\n          const mwDef = manifest.DestinyInventoryItemDefinition[mw.plugItemHash];\n          const mwStatSplit = mwDef.plug.plugCategoryIdentifier.split('.');\n          const mwStatName = mwStatSplit[mwStatSplit.length - 1];\n          console.log(mwStatName, mw);\n        });\n      }\n  });\n}","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/utils/masterworks.js"],"names":["manifest","getMasterworks","theManifest","weaponHash","itemDef","DestinyInventoryItemDefinition","socketEntries","sockets","mwCollection","stability","range","handling","damage","reload","blast_radius","projectile_speed","charge_time","draw_time","accuracy","map","socket","plugSources","preventInitializationOnVendorPurchase","socketTypeHash","reusablePlugItems","mw","mwDef","plugItemHash","mwStatSplit","plug","plugCategoryIdentifier","split","mwStatName","length","console","log"],"mappings":"AAAA,IAAIA,QAAJ;AAEA,OAAO,SAASC,cAAT,CACNC,WADM,EAENC,UAFM,EAGL;AACD,MAAIH,QAAQ,GAAGE,WAAf;AACA,QAAME,OAAO,GAAGJ,QAAQ,CAACK,8BAAT,CAAwCF,UAAxC,CAAhB;AACA,QAAMG,aAAa,GAAGF,OAAO,CAACG,OAAR,CAAgBD,aAAtC;AACA,MAAIE,YAAY,GAAG;AAClBC,IAAAA,SAAS,EAAE,EADO;AAElBC,IAAAA,KAAK,EAAE,EAFW;AAGlBC,IAAAA,QAAQ,EAAE,EAHQ;AAIlBC,IAAAA,MAAM,EAAE,EAJU;AAIN;AACZC,IAAAA,MAAM,EAAE,EALU;AAMlBC,IAAAA,YAAY,EAAE,EANI;AAOlBC,IAAAA,gBAAgB,EAAE,EAPA;AAOI;AACtBC,IAAAA,WAAW,EAAE,EARK;AASlBC,IAAAA,SAAS,EAAE,EATO;AAUlBC,IAAAA,QAAQ,EAAE;AAVQ,GAAnB,CAJC,CAiBD;;AACAZ,EAAAA,aAAa,CAACa,GAAd,CAAkBC,MAAM,IAAI;AAE3B,QAAIA,MAAM,CAACC,WAAP,KAAuB,CAAvB,CAAyB;AAAzB,OACAD,MAAM,CAACE,qCAAP,KAAiD,IADjD,CACsD;AADtD,OAEAF,MAAM,CAACG,cAAP,KAA0B,UAF9B,CAEyC;AAFzC,MAGE;AAED;AACAH,QAAAA,MAAM,CAACI,iBAAP,CAAyBL,GAAzB,CAA6BM,EAAE,IAAI;AAClC,gBAAMC,KAAK,GAAG1B,QAAQ,CAACK,8BAAT,CAAwCoB,EAAE,CAACE,YAA3C,CAAd;AACA,gBAAMC,WAAW,GAAGF,KAAK,CAACG,IAAN,CAAWC,sBAAX,CAAkCC,KAAlC,CAAwC,GAAxC,CAApB;AACA,gBAAMC,UAAU,GAAGJ,WAAW,CAACA,WAAW,CAACK,MAAZ,GAAqB,CAAtB,CAA9B;AAEAC,UAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ,EAAwBP,EAAxB;AACA,SAND;AAOA;AACD,GAhBD;AAiBA","sourcesContent":["let manifest;\n\nexport function getMasterworks(\n\ttheManifest,\n\tweaponHash\n) {\n\tlet manifest = theManifest;\n\tconst itemDef = manifest.DestinyInventoryItemDefinition[weaponHash];\n\tconst socketEntries = itemDef.sockets.socketEntries;\n\tlet mwCollection = {\n\t\tstability: [],\n\t\trange: [],\n\t\thandling: [],\n\t\tdamage: [], // Impact\n\t\treload: [],\n\t\tblast_radius: [],\n\t\tprojectile_speed: [], // Velocity\n\t\tcharge_time: [],\n\t\tdraw_time: [],\n\t\taccuracy: []\n\t};\n\n\t// Map through slots to find ones that are genuine perks.\n\tsocketEntries.map(socket => {\n\t\t\n\t\tif (socket.plugSources === 3 // not perks\n\t\t\t&& socket.preventInitializationOnVendorPurchase === true // something only MWs had???\n\t\t\t&& socket.socketTypeHash !== 1288200359 // not default shader\n\t\t) {\n\t\t\t\n\t\t\t// Map through MW levels\n\t\t\tsocket.reusablePlugItems.map(mw => {\n\t\t\t\tconst mwDef = manifest.DestinyInventoryItemDefinition[mw.plugItemHash];\n\t\t\t\tconst mwStatSplit = mwDef.plug.plugCategoryIdentifier.split('.');\n\t\t\t\tconst mwStatName = mwStatSplit[mwStatSplit.length - 1];\n\t\t\t\t\n\t\t\t\tconsole.log(mwStatName, mw)\n\t\t\t})\n\t\t}\n\t})\n}"]},"metadata":{},"sourceType":"module"}