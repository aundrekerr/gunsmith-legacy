{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Tooltip.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactTooltip from 'react-tooltip';\nimport { connect } from 'react-redux';\nimport { buildSingleStat, buildStats } from '../utils/stats';\n\nclass Tooltip extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getTooltipNode = () => {\n      const domNode = ReactDOM.findDOMNode(this.hash);\n      return {\n        width: domNode.getBoundingClientRect().width,\n        height: domNode.getBoundingClientRect().height\n      };\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          hash = _this$props.hash,\n          title = _this$props.title,\n          subtitle = _this$props.subtitle,\n          description = _this$props.description,\n          detail = _this$props.detail,\n          stats = _this$props.stats,\n          manifest = _this$props.manifest,\n          weapon = _this$props.weapon;\n    return React.createElement(ReactTooltip, {\n      id: \"getContent-\".concat(hash),\n      offset: {\n        top: 0,\n        right: 20\n      },\n      overridePosition: ({\n        left,\n        top\n      }, currentEvent, currentTarget, node) => {\n        const d = document.documentElement;\n        const tooltipWidth = this.getTooltipNode().width;\n        const tooltipHeight = this.getTooltipNode().height;\n        left = Math.min(d.clientWidth - node.clientWidth, left);\n        top = Math.min(d.clientHeight - node.clientHeight, top);\n        left = Math.max(0, left);\n        top = Math.max(0, top);\n\n        if (left + tooltipWidth > window.innerWidth) {\n          left = window.innerWidth - tooltipWidth;\n        }\n\n        if (top + tooltipHeight > window.innerHeight) {\n          left = window.innerWidth - tooltipHeight;\n        }\n\n        return {\n          top,\n          left\n        };\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tooltip\",\n      ref: c => this['hash'] = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, title), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, subtitle)), React.createElement(\"div\", {\n      className: \"tooltip-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, description ? React.createElement(\"pre\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, description) : null, detail ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"detail\") : null, stats ? React.createElement(TooltipStats, {\n      stats: stats,\n      manifest: manifest,\n      weapon: weapon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }) : null)));\n  }\n\n}\n\nconst TooltipStats = props => {\n  const stats = props.stats,\n        manifest = props.manifest,\n        weapon = props.weapon;\n  return React.createElement(\"div\", {\n    className: \"tooltip-stats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, stats.map((stat, index) => {\n    const perkVal = buildSingleStat(buildStats(manifest, weapon.hash), stat, weapon.hash, weapon.mod, weapon.masterwork);\n    return React.createElement(\"li\", {\n      key: index,\n      className: \"stat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"stat__desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, manifest.DestinyStatDefinition[stat.statTypeHash].displayProperties.name), React.createElement(\"span\", {\n      className: \"stat__value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, perkVal >= 0 ? perkVal === 0 ? \"\\xB1\".concat(perkVal) : \"+\".concat(perkVal) : perkVal)));\n  })));\n};\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest,\n  weapon: state.weapon\n});\n\nexport default connect(mapStateToProps, {})(Tooltip);","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Tooltip.js"],"names":["React","Component","ReactDOM","ReactTooltip","connect","buildSingleStat","buildStats","Tooltip","getTooltipNode","domNode","findDOMNode","hash","width","getBoundingClientRect","height","render","props","title","subtitle","description","detail","stats","manifest","weapon","top","right","left","currentEvent","currentTarget","node","d","document","documentElement","tooltipWidth","tooltipHeight","Math","min","clientWidth","clientHeight","max","window","innerWidth","innerHeight","c","TooltipStats","map","stat","index","perkVal","mod","masterwork","DestinyStatDefinition","statTypeHash","displayProperties","name","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactTooltip from 'react-tooltip';\nimport { connect } from 'react-redux';\nimport { buildSingleStat, buildStats } from '../utils/stats';\n\nclass Tooltip extends Component {\n\tgetTooltipNode = () => {\n\t\tconst domNode = ReactDOM.findDOMNode(this.hash);\n\t\treturn {\n\t\t\twidth: domNode.getBoundingClientRect().width,\n\t\t\theight: domNode.getBoundingClientRect().height,\n\t\t}\n\t\t\t\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tprops: {\n\t\t\t\thash,\n\t\t\t\ttitle,\n\t\t\t\tsubtitle,\n\t\t\t\tdescription,\n\t\t\t\tdetail,\n\t\t\t\tstats,\n\t\t\t\t\n\t\t\t\tmanifest,\n\t\t\t\tweapon\n\t\t\t},\n\t\t} = this;\n\n\t\treturn (\n\t\t\t<ReactTooltip \n\t\t\t\tid={`getContent-${hash}`}\n\t\t\t\toffset={{top: 0, right: 20}}\n\t\t\t\toverridePosition={ ({ left, top }, currentEvent, currentTarget, node) => {\n\t\t\t\t\tconst d = document.documentElement;\n\n\t\t\t\t\tconst tooltipWidth = this.getTooltipNode().width;\n\t\t\t\t\tconst tooltipHeight = this.getTooltipNode().height;\n\t\t\t\t\t\n\t\t\t\t\tleft = Math.min(d.clientWidth - node.clientWidth, left);\n\t\t\t\t\ttop = Math.min(d.clientHeight - node.clientHeight, top);\n\t\t\t\t\t\n\t\t\t\t\tleft = Math.max(0, left);\n\t\t\t\t\ttop = Math.max(0, top);\n\t\t\t\t\t\n\t\t\t\t\tif (left + tooltipWidth > window.innerWidth) {\n\t\t\t\t\t\tleft = window.innerWidth - tooltipWidth\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (top + tooltipHeight > window.innerHeight) {\n\t\t\t\t\t\tleft = window.innerWidth - tooltipHeight\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { top, left }\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div className=\"tooltip\" ref={(c) => this['hash'] = c}>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<h3>{ title }</h3>\n\t\t\t\t\t\t<span>{ subtitle }</span>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className=\"tooltip-content\">\n\t\t\t\t\t\t{ description ? <pre className=\"description\">{ description }</pre> : null }\n\t\t\t\t\t\t{ detail ? <span>detail</span> : null }\n\t\t\t\t\t\t{ stats ? <TooltipStats stats={ stats } manifest={ manifest } weapon={ weapon }/> : null }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ReactTooltip>\n\t\t)\n\t}\n}\n\nconst TooltipStats = (props) => {\n\tconst {\n\t\tstats,\n\n\t\tmanifest,\n\t\tweapon\n\t} = props;\n\n\treturn (\n\t\t<div className='tooltip-stats'>\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tstats.map((stat, index) => {\n\t\t\t\t\t\tconst perkVal = buildSingleStat(\n\t\t\t\t\t\t\tbuildStats(\n\t\t\t\t\t\t\t\tmanifest,\n\t\t\t\t\t\t\t\tweapon.hash\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tstat,\n\t\t\t\t\t\t\tweapon.hash,\n\t\t\t\t\t\t\tweapon.mod,\n\t\t\t\t\t\t\tweapon.masterwork\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={ index } className=\"stat\">\n\t\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t<span className=\"stat__desc\">{ manifest.DestinyStatDefinition[stat.statTypeHash].displayProperties.name }</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"stat__value\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tperkVal >= 0 \n\t\t\t\t\t\t\t\t\t\t\t\t\t? perkVal === 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `Â±${perkVal}` \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `+${perkVal}` \n\t\t\t\t\t\t\t\t\t\t\t\t\t: perkVal\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n\tweapon: state.weapon,\n});\n\nexport default connect(mapStateToProps, {\n\t\n})(Tooltip);"]},"metadata":{},"sourceType":"module"}