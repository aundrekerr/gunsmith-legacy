{"ast":null,"code":"var _jsxFileName = \"/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Tooltip.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactTooltip from 'react-tooltip';\nimport { connect } from 'react-redux';\nimport { buildSingleStat, buildStats } from '../utils/stats';\n\nclass Tooltip extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getTooltipNode = hash => {\n      const domNode = ReactDOM.findDOMNode(this.hash);\n      return domNode.getBoundingClientRect();\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          hash = _this$props.hash,\n          title = _this$props.title,\n          subtitle = _this$props.subtitle,\n          description = _this$props.description,\n          detail = _this$props.detail,\n          stats = _this$props.stats,\n          manifest = _this$props.manifest,\n          weapon = _this$props.weapon,\n          getTooltipNode = this.getTooltipNode;\n    return React.createElement(ReactTooltip, {\n      id: \"getContent-\".concat(hash),\n      offset: {\n        top: 0,\n        right: 20\n      },\n      overridePosition: ({\n        left,\n        top\n      }, currentEvent, currentTarget, node) => {\n        const d = document.documentElement;\n        this.getTooltipNode(hash);\n        left = Math.min(d.clientWidth - node.clientWidth, left);\n        top = Math.min(d.clientHeight - node.clientHeight, top);\n        left = Math.max(0, left);\n        top = Math.max(0, top);\n\n        if (left + 380 > window.innerWidth) {\n          left = window.innerWidth - 380;\n        } // console.log(node)\n\n\n        return {\n          top,\n          left\n        };\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tooltip\",\n      ref: c => this['hash'] = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, title), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, subtitle)), React.createElement(\"div\", {\n      className: \"tooltip-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, description ? React.createElement(\"pre\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, description) : null, detail ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"detail\") : null, stats ? React.createElement(TooltipStats, {\n      stats: stats,\n      manifest: manifest,\n      weapon: weapon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }) : null)));\n  }\n\n}\n\nconst TooltipStats = props => {\n  const stats = props.stats,\n        manifest = props.manifest,\n        weapon = props.weapon;\n  return React.createElement(\"div\", {\n    className: \"tooltip-stats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, stats.map((stat, index) => {\n    const perkVal = buildSingleStat(buildStats(manifest, weapon.hash), stat, weapon.hash, weapon.mod, weapon.masterwork);\n    return React.createElement(\"li\", {\n      key: index,\n      className: \"stat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"stat__desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, manifest.DestinyStatDefinition[stat.statTypeHash].displayProperties.name), React.createElement(\"span\", {\n      className: \"stat__value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, perkVal >= 0 ? perkVal === 0 ? \"\\xB1\".concat(perkVal) : \"+\".concat(perkVal) : perkVal)));\n  })));\n};\n\nconst mapStateToProps = state => ({\n  manifest: state.manifest,\n  weapon: state.weapon\n});\n\nexport default connect(mapStateToProps, {})(Tooltip);","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/gunsmith3/src/components/Tooltip.js"],"names":["React","Component","ReactDOM","ReactTooltip","connect","buildSingleStat","buildStats","Tooltip","getTooltipNode","hash","domNode","findDOMNode","getBoundingClientRect","render","props","title","subtitle","description","detail","stats","manifest","weapon","top","right","left","currentEvent","currentTarget","node","d","document","documentElement","Math","min","clientWidth","clientHeight","max","window","innerWidth","c","TooltipStats","map","stat","index","perkVal","mod","masterwork","DestinyStatDefinition","statTypeHash","displayProperties","name","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactTooltip from 'react-tooltip';\nimport { connect } from 'react-redux';\nimport { buildSingleStat, buildStats } from '../utils/stats';\n\nclass Tooltip extends Component {\n\tgetTooltipNode = (hash) => {\n\t\tconst domNode = ReactDOM.findDOMNode(this.hash);\n\t\treturn domNode.getBoundingClientRect();\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tprops: {\n\t\t\t\thash,\n\t\t\t\ttitle,\n\t\t\t\tsubtitle,\n\t\t\t\tdescription,\n\t\t\t\tdetail,\n\t\t\t\tstats,\n\t\t\t\t\n\t\t\t\tmanifest,\n\t\t\t\tweapon\n\t\t\t},\n\t\t\tgetTooltipNode\n\t\t} = this;\n\n\t\treturn (\n\t\t\t<ReactTooltip \n\t\t\t\tid={`getContent-${hash}`}\n\t\t\t\toffset={{top: 0, right: 20}}\n\t\t\t\toverridePosition={ ({ left, top }, currentEvent, currentTarget, node) => {\n\t\t\t\t\tconst d = document.documentElement;\n\n\t\t\t\t\tthis.getTooltipNode(hash)\n\t\t\t\t\t\n\t\t\t\t\tleft = Math.min(d.clientWidth - node.clientWidth, left);\n\t\t\t\t\ttop = Math.min(d.clientHeight - node.clientHeight, top);\n\t\t\t\t\t\n\t\t\t\t\tleft = Math.max(0, left);\n\t\t\t\t\ttop = Math.max(0, top);\n\t\t\t\t\t\n\t\t\t\t\tif (left + 380 > window.innerWidth) {\n\t\t\t\t\t\tleft = window.innerWidth - 380\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log(node)\n\n\t\t\t\t\treturn { top, left }\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div className=\"tooltip\" ref={(c) => this['hash'] = c}>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<h3>{ title }</h3>\n\t\t\t\t\t\t<span>{ subtitle }</span>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className=\"tooltip-content\">\n\t\t\t\t\t\t{ description ? <pre className=\"description\">{ description }</pre> : null }\n\t\t\t\t\t\t{ detail ? <span>detail</span> : null }\n\t\t\t\t\t\t{ stats ? <TooltipStats stats={ stats } manifest={ manifest } weapon={ weapon }/> : null }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ReactTooltip>\n\t\t)\n\t}\n}\n\nconst TooltipStats = (props) => {\n\tconst {\n\t\tstats,\n\n\t\tmanifest,\n\t\tweapon\n\t} = props;\n\n\treturn (\n\t\t<div className='tooltip-stats'>\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tstats.map((stat, index) => {\n\t\t\t\t\t\tconst perkVal = buildSingleStat(\n\t\t\t\t\t\t\tbuildStats(\n\t\t\t\t\t\t\t\tmanifest,\n\t\t\t\t\t\t\t\tweapon.hash\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tstat,\n\t\t\t\t\t\t\tweapon.hash,\n\t\t\t\t\t\t\tweapon.mod,\n\t\t\t\t\t\t\tweapon.masterwork\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={ index } className=\"stat\">\n\t\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t<span className=\"stat__desc\">{ manifest.DestinyStatDefinition[stat.statTypeHash].displayProperties.name }</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"stat__value\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tperkVal >= 0 \n\t\t\t\t\t\t\t\t\t\t\t\t\t? perkVal === 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `Â±${perkVal}` \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `+${perkVal}` \n\t\t\t\t\t\t\t\t\t\t\t\t\t: perkVal\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => ({\n\tmanifest: state.manifest,\n\tweapon: state.weapon,\n});\n\nexport default connect(mapStateToProps, {\n\t\n})(Tooltip);"]},"metadata":{},"sourceType":"module"}